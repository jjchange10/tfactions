# tfactions configuration file
# https://suzuki-shunsuke.github.io/tfaction/docs/config

# GitHub repository
repository: OWNER/REPO  # 実際のGitHubリポジトリに置き換えてください

# Terraform configurations
target_groups:
  - working_directory: terraform/workload/
    target: terraform/workload/**
    terraform_plan_config:
      # terraform output で取得した値に置き換えてください
      gcp_service_account: terraform-plan@kose-fleet-test.iam.gserviceaccount.com
      gcp_workload_identity_provider: "projects/PROJECT_NUMBER/locations/global/workloadIdentityPools/github-pool/providers/github-provider"
    tfmigrate_plan_config:
      gcp_service_account: tfmigrate-plan@kose-fleet-test.iam.gserviceaccount.com
      gcp_workload_identity_provider: "projects/PROJECT_NUMBER/locations/global/workloadIdentityPools/github-pool/providers/github-provider"
    terraform_apply_config:
      gcp_service_account: terraform-apply@kose-fleet-test.iam.gserviceaccount.com
      gcp_workload_identity_provider: "projects/PROJECT_NUMBER/locations/global/workloadIdentityPools/github-pool/providers/github-provider"
    tfmigrate_apply_config:
      gcp_service_account: tfmigrate-apply@kose-fleet-test.iam.gserviceaccount.com
      gcp_workload_identity_provider: "projects/PROJECT_NUMBER/locations/global/workloadIdentityPools/github-pool/providers/github-provider"

# Default Terraform version
terraform_version: 1.5.0
